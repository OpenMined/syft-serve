<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server Features - SyftServe</title>
    <link rel="icon" type="image/svg+xml" href="images/syftbox-logo.svg">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <nav>
            <div class="nav-wrapper">
                <div class="logo-group">
                    <img src="images/syftbox-logo.svg" alt="SyftBox" class="syftbox-logo">
                    <a href="index.html" class="logo">SyftServe</a>
                </div>
                <div class="nav-links">
                    <a href="quickstart.html">Quick Start</a>
                    <a href="server-features.html" class="active">Server Features</a>
                    <a href="api/index.html">API</a>
                    <a href="https://github.com/OpenMined/syft-serve" class="github-link">GitHub</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="reasons-hero">
        <div class="container">
            <h1>Server Features</h1>
            <p class="hero-subtitle">Everything SyftServe servers can do for you</p>
        </div>
    </section>

    <!-- Features Content -->
    <section class="reasons-content">
        <div class="container">
            
            <div class="reason-section">
                <h2>ğŸš€ Instant Server Creation</h2>
                <p>Transform any Python function into a running API endpoint in one line:</p>
                <pre><code class="language-python"># From function to server instantly
def my_endpoint():
    return {"status": "running", "timestamp": time.time()}

server = ss.create(name="api", endpoints={"/status": my_endpoint})
# Server is already running at http://localhost:8000</code></pre>
                <div class="reason-note">
                    <strong>Why it matters:</strong> No boilerplate, no config files, no setup. Just write your function and go.
                </div>
            </div>

            <div class="reason-section">
                <h2>ğŸ“¦ Isolated Environments</h2>
                <p>Each server runs in its own virtual environment with isolated dependencies:</p>
                <pre><code class="language-python"># Server 1: Data processing with pandas
data_server = ss.create(
    name="data_api",
    endpoints={"/process": process_data},
    dependencies=["pandas==2.0.0", "numpy"]
)

# Server 2: ML with different dependencies
ml_server = ss.create(
    name="ml_api",
    endpoints={"/predict": predict},
    dependencies=["tensorflow", "pandas==1.5.0"]  # Different pandas version!
)</code></pre>
                <div class="reason-note">
                    <strong>Why it matters:</strong> No dependency conflicts. Each server is completely isolated. Use any package versions you need.
                </div>
            </div>

            <div class="reason-section">
                <h2>ğŸ“ Named Server Access</h2>
                <p>Access servers by meaningful names instead of port numbers:</p>
                <pre><code class="language-python"># Instead of remembering ports...
# "Was the ML service on 8002 or 8003?"

# Use meaningful names
ml_server = ss.servers["ml_api"]
data_server = ss.servers["data_processor"]
auth_server = ss.servers["auth_service"]</code></pre>
                <div class="reason-note">
                    <strong>Why it matters:</strong> No more port confusion. Access servers by their purpose, not their port.
                </div>
            </div>

            <div class="reason-section">
                <h2>ğŸ“‹ Easy Log Access</h2>
                <p>View server logs without hunting for log files:</p>
                <pre><code class="language-python"># View recent activity
server.stdout.tail(20)    # Last 20 lines of output
server.stderr.tail(10)    # Last 10 lines of errors

# Debug startup issues
server.stdout.head(50)    # First 50 lines

# Get all logs
all_logs = server.stdout.lines()  # List of all log lines</code></pre>
                <div class="reason-note">
                    <strong>Why it matters:</strong> Debug issues quickly. No need to SSH into containers or search for log files.
                </div>
            </div>

            <div class="reason-section">
                <h2>ğŸ’ª Process Persistence</h2>
                <p>Servers survive notebook restarts and stay running in the background:</p>
                <pre><code class="language-python"># Create a server
server = ss.create(name="persistent_api", endpoints={"/data": get_data})
print(f"PID: {server.pid}")  # PID: 12345

# --- Restart your Jupyter kernel ---

# Import again
import syft_serve as ss

# Your server is still there!
ss.servers["persistent_api"]  # Still running with same PID</code></pre>
                <div class="reason-note">
                    <strong>Why it matters:</strong> Servers keep running even if your notebook crashes. True background processes.
                </div>
            </div>

            <div class="reason-section">
                <h2>ğŸ”„ Hot Reloading with force=True</h2>
                <p>Update servers without changing ports or URLs:</p>
                <pre><code class="language-python"># Version 1
def get_data_v1():
    return {"version": "1.0", "data": [1, 2, 3]}

server = ss.create(name="api", endpoints={"/data": get_data_v1})
# Running at http://localhost:8000

# Version 2 - same name, same port
def get_data_v2():
    return {"version": "2.0", "data": [1, 2, 3, 4, 5]}

server = ss.create(
    name="api", 
    endpoints={"/data": get_data_v2},
    force=True  # Replaces the existing server
)
# Still at http://localhost:8000, but now v2!</code></pre>
                <div class="reason-note">
                    <strong>Why it matters:</strong> Update servers without breaking client connections. Same URL, new code.
                </div>
            </div>

            <div class="reason-section">
                <h2>ğŸ§¹ Clean Process Termination</h2>
                <p>Properly shuts down servers and all child processes:</p>
                <pre><code class="language-python"># Terminate one server
server.terminate()  # Cleanly shuts down

# Terminate all servers
ss.terminate_all()  # Shuts down everything

# Even finds orphaned processes from crashed notebooks
# and cleans them up!</code></pre>
                <div class="reason-note">
                    <strong>Why it matters:</strong> No zombie processes. No port conflicts. Clean shutdown every time.
                </div>
            </div>

            <div class="reason-section">
                <h2>ğŸ” Rich Server Information</h2>
                <p>Get detailed information about your servers at a glance:</p>
                <pre><code class="language-python"># Beautiful table view
ss.servers

# Output:
# Name       Port  Status     Endpoints          Uptime    PID
# --------  ------  ---------  ---------------  --------  -----
# data_api    8000  âœ… Running  /process, /status  2m 15s   1234
# ml_api      8001  âœ… Running  /predict          45s      5678

# Individual server details
server = ss.servers["data_api"]
print(f"URL: {server.url}")            # http://localhost:8000
print(f"Uptime: {server.uptime}")      # 2m 15s
print(f"Status: {server.status}")      # running
print(f"Endpoints: {server.endpoints}") # ['/process', '/status']</code></pre>
            </div>

            <div class="reason-section">
                <h2>ğŸ“Š Multiple Endpoints Per Server</h2>
                <p>Build complete APIs with multiple endpoints on one server:</p>
                <pre><code class="language-python"># Full REST API on one server
api = ss.create(
    name="user_api",
    endpoints={
        "/users": list_users,
        "/users/create": create_user,
        "/users/update": update_user,
        "/users/delete": delete_user,
        "/health": health_check,
        "/metrics": get_metrics
    }
)</code></pre>
                <div class="reason-note">
                    <strong>Why it matters:</strong> Build complete services, not just single endpoints. One server, many functions.
                </div>
            </div>

            <div class="reason-section">
                <h2>ğŸ›¡ï¸ Built on FastAPI</h2>
                <p>All servers are full FastAPI applications with automatic features:</p>
                <ul>
                    <li>Automatic request validation</li>
                    <li>JSON serialization/deserialization</li>
                    <li>CORS support enabled by default</li>
                    <li>Async support if your functions are async</li>
                    <li>Built-in health checks at /health</li>
                </ul>
                <div class="reason-note">
                    <strong>Why it matters:</strong> Production-ready servers with zero configuration. All FastAPI benefits included.
                </div>
            </div>

        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2024 OpenMined. Part of the <a href="https://syftbox.org">SyftBox</a> ecosystem.</p>
        </div>
    </footer>

    <script src="js/main.js"></script>
</body>
</html>